version: '1.0'
steps:
  PackageMyNodeApp:
    title: Packaging Node application
    image: node:11
    working_directory: ./02_aws_cli/nodejs_example
    commands:
      - echo "My Node version is"
      - node --version
      - npm install
  PackageMyPythonApp:
    title: Packaging Python application
    image: python:3.6.4-alpine3.6
    working_directory: ./02_aws_cli/python_example
    commands:
      - echo "My Python version is"
      - python --version
      - pip install . 
  PackageMyGoApp:
    title: Packaging Go application
    image: golang:1.7.1
    working_directory: ./02_aws_cli/golang_example
    commands:
      - go --version
      - go build -o bin/sample src/sample/trivial-web-server.go       
  RunAwsCli:
    title: Communication with AWS
    image: mesosphere/aws-cli
    working_directory: ./02_aws_cli
    commands:
      - aws autoscaling help
  RunTerraformCli:
    title: Creates machines with Terraform
    image: hashicorp/Terraform
    working_directory: ./02_aws_cli
    commands:
      - terraform version
      - terraform init